import os

import openai
import time
from io import BytesIO
from aiogram.types import ChatActions, ContentType
from aiogram.types import InputFile

from bot.main import dp, bot
from bot.keyboards.kb import *

from telegraph.aio import Telegraph
import speech_recognition as sr
# import pydub
import ffmpeg
from gtts import gTTS



import aiogram.utils.markdown as md
from aiogram import Bot, Dispatcher, types
from aiogram.contrib.fsm_storage.memory import MemoryStorage
from aiogram.dispatcher import FSMContext
from aiogram.dispatcher.filters import Text
from aiogram.dispatcher.filters.state import State, StatesGroup
from aiogram.types import ParseMode
from aiogram.utils import executor

openai.api_key = os.environ['OPENAI_API_KEY']
token = os.environ['TOKEN_BOT_TELEGRAM']


messages = [
        {"role": "system",
         "content": "–ü—Ä–∏–≤–µ—Ç, —Ç—ã –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –î–µ—Ç—Å–∫–æ–π –†–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–æ–π –ö–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –ë–æ–ª—å–Ω–∏—Ü—ã, –≥. –£–ª–∞–Ω-–£–¥—ç."},
        {"role": "user", "content": "–ö–∞–∫–æ–π —Å–∞–π—Ç —É –î–†–ö–ë"},
        {"role": "assistant", "content": "–î–∞ –∫–æ–Ω–µ—á–Ω–æ, –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É https://drkbrb.ru/ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è"},
        {"role": "user", "content": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –î–†–ö–ë"},
        {"role": "assistant", "content": """–ë–æ–ª—å–Ω–∏—Ü–∞ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –∫—Ä—É–ø–Ω—ã–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ–º –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ë—É—Ä—è—Ç–∏–∏, –æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏ –≤—ã—Å–æ–∫–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø–æ–º–æ—â—å –¥–µ—Ç—è–º –æ—Ç 0 –¥–æ 18 –ª–µ—Ç.
                                                 –í —Å–æ—Å—Ç–∞–≤–µ –±–æ–ª—å–Ω–∏—Ü—ã ‚Äì –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä, –¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä –∏ –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω—ã–π –º–Ω–æ–≥–æ–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä –Ω–∞ 595 –∫–æ–µ–∫. –ó–¥–µ—Å—å –µ—Å—Ç—å –≤—Å–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ 
                                                 —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∏–∞–≥–Ω–æ–∑ –∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ –ª–µ—á–µ–Ω–∏–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–∞—á–µ—Å—Ç–≤–∞: –±–æ–ª—å–Ω–∏—Ü–∞ –æ—Å–Ω–∞—â–µ–Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º, —Ä–∞–±–æ—Ç–∞—é—Ç –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, —Å–æ–∑–¥–∞–Ω—ã 
                                                 –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è —Å —Ä–µ–±–µ–Ω–∫–æ–º. –ù–∞–ª–∏—á–∏–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ª–µ—á–µ–±–Ω–æ-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã—Ö 
                                                 –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –¥–ª—è –≤—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞ –∏ –µ–≥–æ —Å–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
                                                 –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å –¥–µ—Ç—è–º –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ –æ–±—ä–µ–º–∞—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ü—Ä–æ–≥—Ä–∞–º–º–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â—å—é, —É—Ç–≤–µ—Ä–∂–¥–∞–µ–º–æ–π –µ–∂–µ–≥–æ–¥–Ω–æ –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë—É—Ä—è—Ç–∏—è
                                                 –ú—ã –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –µ—â–µ –º–Ω–æ–≥–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –≤ –ø–æ–ª–Ω–æ–π –º–µ—Ä–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –æ–∂–∏–¥–∞–Ω–∏—è —Å–≤–æ–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∫–∞—á–µ—Å—Ç–≤–æ –æ–∫–∞–∑–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â–∏ –≤ –Ω–∞—à–µ–π –±–æ–ª—å–Ω–∏—Ü–µ –±—ã–ª–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ª—É—á—à–∏—Ö –∫–ª–∏–Ω–∏–∫ —Å—Ç—Ä–∞–Ω—ã. """},
        {"role": "user", "content": "–ì–¥–µ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤—ã –æ –î–†–ö–ë"},
        {"role": "assistant",
         "content": """–î–∞, —Ä–æ–¥–∏—Ç–µ–ª–∏ –Ω–∞—à–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –≤—ã—Å–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–µ –º–Ω–µ–Ω–∏–µ –æ —Ä–∞–±–æ—Ç–µ –Ω–∞—à–µ–π –±–æ–ª—å–Ω–∏—Ü—ã –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–û—Ç–∑—ã–≤—ã¬ª. –ú—ã –±–µ–∑–æ—Ç–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ —Ä–µ—à–∏–º –í–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É ¬´–ì–æ—Ä—è—á–µ–π –ª–∏–Ω–∏–∏¬ª 8 (924) 456 21 05 –∏–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø—Ä–∏–µ–º–Ω–∞—è¬ª, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ä–∞–∑—É –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∫–æ –º–Ω–µ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –º–µ—Ä."""},
        {"role": "user", "content": "–ö—Ç–æ –≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞—á –î–†–ö–ë –≤ –≥. –£–ª–∞–Ω-–£–¥—ç"},
        {"role": "assistant", "content": """–ì–ª–∞–≤–Ω—ã–º –≤—Ä–∞—á–æ–º —è–≤–ª—è–µ—Ç—Å—è –î–º–∏—Ç—Ä–∏–µ–≤ –ê–Ω–∞—Ç–æ–ª–∏–π –í–∞–ª–µ—Ä—å–µ–≤–∏—á. 
                                –ù–∞–≥—Ä–∞–¥—ã, –ø—Ä–µ–º–∏–∏ : –û—Ç–ª–∏—á–Ω–∏–∫ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –†–§. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ : –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ì–ê–£–ó "–î–†–ö–ë" –ú–ó –†–ë
                                –¢–µ–ª–µ—Ñ–æ–Ω: 8 (3012) 45-18-98
                                –§–∞–∫—Å: 8 (3012) 45-19-02
                                E-mail: drkb@govrb.ru    
                                –ß–∞—Å—ã –ø—Ä–∏–µ–º–∞ –ø–æ –ª–∏—á–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º:
                                –í—Ç–æ—Ä–Ω–∏–∫ —Å 16.00 –¥–æ 17.00 (I –Ω–µ–¥–µ–ª—è)
                                –í—Ç–æ—Ä–Ω–∏–∫ —Å 16.00 –¥–æ 17.00 (III –Ω–µ–¥–µ–ª—è)
                                –∫–æ—Ä–ø—É—Å –ñ, –∫–∞–±–∏–Ω–µ—Ç ‚Ññ 342"""
        },

        {"role": "user", "content": "–ê–¥—Ä–µ—Å –î–†–ö–ë"},
        {"role":"assistant", "content": """ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å –≤ –ì–ê–£–ó ¬´–î–†–ö–ë¬ª –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å–∞–º:
            -–≥.–£–ª–∞–Ω-–£–¥—ç, –ø—Ä.–°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 2–∞
            -–≥.–£–ª–∞–Ω-–£–¥—ç, —É–ª.–ú–æ–¥–æ–≥–æ–µ–≤–∞, 1/1
            -—Å.–°–æ—Ç–Ω–∏–∫–æ–≤–æ, —É–ª.–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è, 2
            -—Å.–ò–ª—å–∏–Ω–∫–∞, —É–ª.–ö—É—Ä–æ—Ä—Ç–Ω–∞—è, 15 """
        },
        {"role": "user", "content":"–ö–∞–∫–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∏–ª–∏ –∫–∞–∫ –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –î–†–ö–ë –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É"},
        {"role": "assistant", "content": """
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞ : +7 (3012) 37 30 40
            –ü—Ä–∏–µ–º–Ω–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ : +7 (3012) 55-61-80
            –ü—Ä–∏–µ–º–Ω–∞—è –≥–ª–∞–≤–Ω–æ–≥–æ –≤—Ä–∞—á–∞:
            +7 (3012) 45-18-98
            +7 (3012) 45-19-02 (—Ñ–∞–∫—Å)
            –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è:
            +7 (924) 456-21-05
        """},
        {"role":"user", "content": "–∫–∞–∫ –¥–æ–µ—Ö–∞—Ç—å, –∏–ª–∏ –¥–æ–±—Ä–∞—Ç—å—Å—è"},
        {"role": "assistant", "content": "–≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ: https://yandex.ru/maps/?from=mapframe&ll=107.635602%2C51.983962&mode=usermaps&source=mapframe&um=constructor%3A8c9be684dabcaf7efa034459091e39b997c970cf5b5466b522187ceb1773428c&utm_source=mapframe&z=10 –ü—Ä–æ–µ–∑–¥: –ú–∞—Ä—à—Ä—É—Ç—ã ‚Ññ 56, 82, 100, –¢—Ä–∞–º–≤–∞–π ‚Ññ 1, 2 (–æ—Å—Ç. –ë–°–ú–ü)"}
    ]


# sr = speech_recognition.Recognizer()
# sr.pause_threshold = 0.5



@dp.message_handler(text="/start", state="*")
async def start(message: types.Message, state: FSMContext):
    await state.finish()
    text = f"""–î–æ–±—Ä—ã–π –¥–µ–Ω—å, <code>{message.from_user.first_name}.</code> 
           –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å: 670042, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è, –≥. –£–ª–∞–Ω-–£–¥—ç, –ø—Ä.–°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 2–∞. –ü—Ä–æ–µ–∑–¥: –ú–∞—Ä—à—Ä—É—Ç—ã ‚Ññ 56, 82, 100, –¢—Ä–∞–º–≤–∞–π ‚Ññ 1, 2 (–æ—Å—Ç. –ë–°–ú–ü)   
–ê–¥—Ä–µ—Å–∞:
  -–≥.–£–ª–∞–Ω-–£–¥—ç, –ø—Ä.–°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 2–∞
  -–≥.–£–ª–∞–Ω-–£–¥—ç, —É–ª.–ú–æ–¥–æ–≥–æ–µ–≤–∞, 1/1
  -—Å.–°–æ—Ç–Ω–∏–∫–æ–≤–æ, —É–ª.–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è, 2
  -—Å.–ò–ª—å–∏–Ω–∫–∞, —É–ª.–ö—É—Ä–æ—Ä—Ç–Ω–∞—è, 15 "  
    –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
–†–∞–±–æ—Ç–∞ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ. 
–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –æ—Ç–¥–µ–ª–µ–Ω–∏–π –±–æ–ª—å–Ω–∏—Ü—ã, —Å–º–µ–Ω–Ω–æ—Å—Ç—å, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–º–µ—Å—è—á–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤.

–ü—Ä–∏–µ–º–Ω–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ (—Å–∞–º–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ) - –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ

    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è: 8:00-17:00 –≤ –±—É–¥–Ω–∏–µ –¥–Ω–∏
    –†–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞: 7:30-18:00
    –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–µ–º: 8:00-15:10
    –ü–µ—Ä–µ—Ä—ã–≤ : 12:30-13:30
    –í —Å—É–±–±–æ—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è¬ª —Å 9:00 –¥–æ 14:30 —á–∞—Å–æ–≤.
    
–¢–µ–ª–µ—Ñ–æ–Ω –≥–æ—Ä.–ª–∏–Ω–∏–∏: +7(924) 456 21 05 (–ö–†–£–ì–õ–û–°–£–¢–û–ß–ù–û)
–ö–æ–ª–ª-—Ü–µ–Ω—Ç—Ä: 8(3012)37-30-40"""
    await message.answer_photo(photo="https://drkbrb.ru/upload/iblock/e24/e2498c5b4063aecd5b384ea7e42f4387.png",
                               caption=text,
                               reply_markup=mainkb())


@dp.message_handler(text="‚Ñπ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
async def info(message: types.Message, state: FSMContext):
    text = """
    –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å: 670042, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è, –≥. –£–ª–∞–Ω-–£–¥—ç, –ø—Ä.–°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 2–∞. –ü—Ä–æ–µ–∑–¥: –ú–∞—Ä—à—Ä—É—Ç—ã ‚Ññ 56, 82, 100, –¢—Ä–∞–º–≤–∞–π ‚Ññ 1, 2 (–æ—Å—Ç. –ë–°–ú–ü)
    –ê–¥—Ä–µ—Å–∞:
     -–≥.–£–ª–∞–Ω-–£–¥—ç, –ø—Ä.–°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 2–∞
     -–≥.–£–ª–∞–Ω-–£–¥—ç, —É–ª.–ú–æ–¥–æ–≥–æ–µ–≤–∞, 1/1
     -—Å.–°–æ—Ç–Ω–∏–∫–æ–≤–æ, —É–ª.–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è, 2
     -—Å.–ò–ª—å–∏–Ω–∫–∞, —É–ª.–ö—É—Ä–æ—Ä—Ç–Ω–∞—è, 15
    
    –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
    –†–∞–±–æ—Ç–∞ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ.–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –æ—Ç–¥–µ–ª–µ–Ω–∏–π –±–æ–ª—å–Ω–∏—Ü—ã, —Å–º–µ–Ω–Ω–æ—Å—Ç—å, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–º–µ—Å—è—á–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤.
    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è: 8:00-17:00 –≤ –±—É–¥–Ω–∏–µ –¥–Ω–∏
    –†–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞:  7:30-17:00
    –ü—Ä–∏–µ–º –≤—Ä–∞—á–µ–π:  8:00-15:10
    –ü–µ—Ä–µ—Ä—ã–≤ : 12:30-13:30
    –í —Å—É–±–±–æ—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è¬ª —Å 9:00 –¥–æ 14:30 —á–∞—Å–æ–≤.
    –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: 8(3012)37-30-40 """

    await message.answer_photo(photo="https://drkbrb.ru/upload/medialibrary/DRKB.jpg",
                               caption=text,
                               reply_markup=mainkb())


@dp.message_handler(text="üè• –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—è–º")
async def otdel(message: types.Message, state: FSMContext):
    await message.answer_photo(
        photo="https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRW9lyyS9amnqJ4ekP1VFCyw",
        caption="–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ:",
        reply_markup=department(),
    )


@dp.message_handler(text="üìù –ó–∞–ø–∏—Å—å: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
async def rec(message: types.Message, state: FSMContext):
    await message.answer_photo(
        photo="https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRW9lyyS9amnqJ4ekP1VFCyw",
        caption="–ó–∞–ø–∏—Å–∏ : ",
        reply_markup=record(),
    )


@dp.message_handler(text="üïõ –ê–Ω–∞–ª–∏–∑—ã: –∫–∞–∫ —Å–¥–∞—Ç—å –∏ —Å—Ä–æ–∫–∏ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è")
async def analiz(message: types.Message, state: FSMContext):
    text = """
    üö© –ê–Ω–∞–ª–∏–∑—ã: –∫–∞–∫ —Å–¥–∞—Ç—å –∏ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è?
    –°–¥–∞—á–∞ –∞–Ω–∞–ª–∏–∑–æ–≤ –∫—Ä–æ–≤–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –±—É–¥–Ω–∏–µ –¥–Ω–∏ 8:00 –¥–æ 11:00. 
    –°–¥–∞—á–∞ –∞–Ω–∞–ª–∏–∑–æ–≤ –±–∏–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (—Å–æ—Å–∫–æ–±, –∫–æ–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏ —Ç.–¥) —Å 8:00 –¥–æ 10:00
    –°–¥–∞—á–∞ –∞–Ω–∞–ª–∏–∑–æ–≤ —Å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –Ω–æ—Å–æ–≥–ª–æ—Ç–∫–∏, —Ä–æ—Ç–æ–≥–ª–æ—Ç–∫–∏ —Å 8:00 –¥–æ 11:00
    
    –ü—Ä–∏ —Å–¥–∞—á–µ –∞–Ω–∞–ª–∏–∑–æ–≤ –Ω–∞ –ø–ª–∞—Ç–Ω–æ–π –æ—Å–Ω–æ–≤–µ –∏ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é (057-—Ñ) –æ—Ç –ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏ –ø–æ –º–µ—Å—Ç—É –∂–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–æ–π—Ç–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è.
    
    –°—Ä–æ–∫–∏ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤:
    –û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏, –±–∏–æ—Ö–∏–º–∏—è, –æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –º–æ—á–∏, –∫–æ–ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–∞–ª –ø–æ –ö–∞—Ç–æ ‚Äì –≤ –¥–µ–Ω—å —Å–¥–∞—á–∏ –ø–æ—Å–ª–µ 16:00
    –í–ü–ì, –¶–ú–í–ò –≤ —Å—Ä–µ–¥—É –ø–æ—Å–ª–µ 16:00 
    –ì–æ—Ä–º–æ–Ω—ã –≤ —á–µ—Ç–≤–µ—Ä–≥ –ø–æ—Å–ª–µ 16:00
"""
    await message.answer(text=text, reply_markup=mainkb())


@dp.message_handler(text="üßë‚Äç‚öïÔ∏èüìûüöëüö® –ü–ª–∞–Ω–æ–≤–∞—è/—ç–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è. –°–∞–º–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ")
async def otdel(message: types.Message, state: FSMContext):
    await message.answer_photo(
        photo="https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRW9lyyS9amnqJ4ekP1VFCyw",
        caption="–í—ã–±–µ—Ä–∏—Ç–µ:",
        reply_markup=hosp(),
    )


@dp.callback_query_handler(text_startswith="oms_record", state="*")
async def oms_record(message: types.message, state: FSMContext):
    text = """–ù–∞ –ø—Ä–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–π—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ (–∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏) –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–µ. –í —Å–ª—É—á–∞–µ –æ–ø–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ, —á–µ–º –Ω–∞ 10 –º–∏–Ω—É—Ç, –≤ –ø—Ä–∏–µ–º–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–∞–∑–∞–Ω–æ. 
              –ü—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –î–†–ö–ë —Ä–µ–±–µ–Ω–æ–∫, –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –¥–æ 14 –ª–µ—Ç –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è. 
              –í —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∏–∂–µ.
                
            –ö–∞–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞ (—Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º ‚Äì —Ñ–æ—Ä–º–∞ ‚Ññ 057/—É)
            –î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —É—Å–ª—É–≥–∏ –≤ —Ä–∞–º–∫–∞—Ö –û–ú–° –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
                1.  –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –î–†–ö–ë –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∏–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ —Ñ–æ—Ä–º–µ 057/—É –æ—Ç –ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω —Ä–µ–±–µ–Ω–æ–∫. –í –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–ª–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–∏–∞–≥–Ω–æ–∑–∞. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–æ –ª–µ—á–∞—â–∏–º –≤—Ä–∞—á–æ–º, –∑–∞–≤–µ–¥—É—é—â–∏–º –æ—Ç–¥–µ–ª–µ–Ω–∏–µ–º –∏ –∑–∞–≤–µ—Ä–µ–Ω–æ –ø–µ—á–∞—Ç—å—é —É—á—Ä–µ–∂–¥–µ–Ω–∏—è. 
                –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –≤—ã–¥–∞–Ω–Ω—ã—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ ‚Äî 3 –º–µ—Å—è—Ü–∞;
                2. —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ / –ø–∞—Å–ø–æ—Ä—Ç —Ä–µ–±–µ–Ω–∫–∞;
                3. –ü–æ–ª–∏—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è;
                4. –°–ù–ò–õ–° —Ä–µ–±–µ–Ω–∫–∞;
                5. –ø–∞—Å–ø–æ—Ä—Ç –ª–∏—Ü–∞, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ (—Ä–æ–¥–∏—Ç–µ–ª—è, –æ–ø–µ–∫—É–Ω–∞, –∏–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è);
                6. –∞–º–±—É–ª–∞—Ç–æ—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ñ–æ—Ä–º–µ 112;
                7.  —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∞–≤–∏–≤—à–µ–π –ø–∞—Ü–∏–µ–Ω—Ç–∞.
                –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –¥–ª—è –æ—Ç–∫–∞–∑–∞ –≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–µ–º–∞ –≤ —Ä–∞–º–∫–∞—Ö –û–ú–°."""
    await message.message.answer(text=text,
                                 reply_markup=record())


@dp.callback_query_handler(text_startswith="otolaringolog_record", state="*")
async def oms_record(message: types.message, state: FSMContext):
    text = """–ù–∞ –ø—Ä–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–π—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ (–∑–∞ 20 –º–∏–Ω—É—Ç –¥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏) –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–µ. –í —Å–ª—É—á–∞–µ –æ–ø–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ, —á–µ–º –Ω–∞ 10 –º–∏–Ω—É—Ç, –≤ –ø—Ä–∏–µ–º–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–∞–∑–∞–Ω–æ. 
–ü—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –î–†–ö–ë —Ä–µ–±–µ–Ω–æ–∫, –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –¥–æ 14 –ª–µ—Ç –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è. 
–í —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∏–∂–µ.

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–µ–º –≤—Ä–∞—á–∞-–æ—Ç–æ—Ä–∏–Ω–æ–ª–∞—Ä–∏–Ω–≥–æ–ª–æ–≥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è:
1. —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∞–≤–∏–≤—à–µ–π –ø–∞—Ü–∏–µ–Ω—Ç–∞:
‚Ä¢–≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –≤–∏–¥–µ —á–µ—Ä–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É ¬´–ú–ò–° –ê–†–ò–ê–î–ù–ê¬ª
‚Ä¢–ø—Ä–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É, –∫ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–º—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –∏–ª–∏ –∑–∞–≤–µ–¥—É—é—â–µ–º—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–º –æ—Ç–¥–µ–ª–µ–Ω–∏–µ–º –î–†–ö–ë –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –≤ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏;
2. —á–µ—Ä–µ–∑ —Å–∞–π—Ç –ï–ü–ì–£ gosuslugi.ru
3. –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–∞ –î–†–ö–ë 8(3012)37-30-40
4. –ø—Ä–∏ –æ—á–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –î–†–ö–ë.
"""
    await message.message.answer(text=text,
                                 reply_markup=record())


@dp.callback_query_handler(text_startswith="dms_record", state="*")
async def oms_record(message: types.message, state: FSMContext):
    text = """–ù–∞ –ø—Ä–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–π—Ç–∏ –∑–∞—Ä–∞–Ω–µ–µ (–∑–∞ 20 –º–∏–Ω—É—Ç –¥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏) –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–µ. –í —Å–ª—É—á–∞–µ –æ–ø–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ, —á–µ–º –Ω–∞ 10 –º–∏–Ω—É—Ç, –≤ –ø—Ä–∏–µ–º–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–∞–∑–∞–Ω–æ. 
–ü—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –î–†–ö–ë —Ä–µ–±–µ–Ω–æ–∫, –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –¥–æ 14 –ª–µ—Ç –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è. 
–í —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∏–∂–µ.

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–µ–º, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö  –î–ú–° –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è: 
‚Ä¢	–ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–∞ –î–†–ö–ë 8(3012) 37-30-40;
‚Ä¢	–ø—Ä–∏ –æ—á–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É –î–†–ö–ë.
–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —É—Å–ª—É–≥–∏ –≤ —Ä–∞–º–∫–∞—Ö –î–ú–° –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
1.	–ì–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–µ –ø–∏—Å—å–º–æ –æ—Ç —Å—Ç—Ä–∞—Ö–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ (–Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É drkb@govrb.ru –Ω–∞–∫–∞–Ω—É–Ω–µ –ø—Ä–∏–µ–º–∞ –∏–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è) –∏–ª–∏ –ø—Ä—è–º–æ–π –î–æ–≥–æ–≤–æ—Ä –Ω–∞ –æ–∫–∞–∑–∞–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â–∏;
2.	–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –∏–ª–∏ –ø–∞—Å–ø–æ—Ä—Ç —Ä–µ–±–µ–Ω–∫–∞;
3.	–°–ù–ò–õ–° —Ä–µ–±–µ–Ω–∫–∞;
4.	–ü–∞—Å–ø–æ—Ä—Ç –ª–∏—Ü–∞, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ (—Ä–æ–¥–∏—Ç–µ–ª—è, –æ–ø–µ–∫—É–Ω–∞, –∏–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è;
5.	–ù–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞, –Ω–µ —è–≤–ª—è—é—â–µ–≥–æ—Å—è –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª–µ–º, –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ/—Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ —Ä–µ–±–µ–Ω–∫–∞ –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–º —É—á—Ä–µ–∂–¥–µ–Ω–∏–∏.
6.	–∞–º–±—É–ª–∞—Ç–æ—Ä–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ñ–æ—Ä–º–µ 112/—É;
7.	—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞. 
"""
    await message.message.answer(text=text,
                                 # parse_mode = config.BACKEND_URL+config.URLS['otolaringolog_otd'] ,
                                 reply_markup=record())


@dp.callback_query_handler(text_startswith="record_by_cash", state="*")
async def oms_record(message: types.message, state: FSMContext):
    text = """–ü—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–∏ –î–†–ö–ë —Ä–µ–±–µ–Ω–æ–∫, –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –¥–æ 14 –ª–µ—Ç –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–æ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è. 

–ö–∞–∫ –ø–ª–∞—Ç–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º –∏–ª–∏ –Ω–∞ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è?  
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–ª–∞—Ç–Ω–æ–π –æ—Å–Ω–æ–≤–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–µ—Ç–≤–µ—Ä–≥ –≤ 14:00, –∫ —Å–ª–µ–¥—É—é—â–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º: –æ—Ç–æ–ª–∞—Ä–∏–Ω–≥–æ–ª–æ–≥, –Ω–µ–≤—Ä–æ–ª–æ–≥, –æ—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥, –¥–µ—Ç—Å–∫–∏–π —Ö–∏—Ä—É—Ä–≥, –≥–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–æ–ª–æ–≥, –≥–∏–Ω–µ–∫–æ–ª–æ–≥, —Å—É—Ä–¥–æ–ª–æ–≥.
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–ª–∞—Ç–Ω–æ–π –æ—Å–Ω–æ–≤–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–µ—Ç–≤–µ—Ä–≥ –≤ 15:00 –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: –ú–†–¢ –±–µ–∑ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –£–ó–ò, —Ñ–∏–±—Ä–æ–≥–∞—Å—Ç—Ä–æ–¥—É–æ–¥–µ–Ω–æ—Å–∫–æ–ø–∏—è (–§–ì–î–°).
–ó–∞–ø–∏—Å—å –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä –ø–æ —Ç–µ–ª. 8(3012)37-30-40.
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∑–∞–ø–∏—Å—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ  —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
"""
    await message.message.answer(text=text,
                                 reply_markup=record())


@dp.callback_query_handler(text_startswith="otolaringolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û—Ç–æ–ª–∞—Ä–∏–Ω–≥–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 15:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)373190, –º–æ–±. —Ç–µ–ª.: 89240154993"
    await message.message.answer(text=text,
                                 # parse_mode = config.BACKEND_URL+config.URLS['otolaringolog_otd'] ,
                                 reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="oftalmolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 12:00 –¥–æ 14:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)373187 –º–æ–±.—Ç–µ–ª.: 89240155781"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="Travm-ort_Neyro", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–¢—Ä–∞–≤–º–∞—Ç–æ–ª–æ–≥–æ-–æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–æ–µ —Å –Ω–µ–π—Ä–æ—Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–π–∫–∞–º–∏. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 15:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–û—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è —Ç—Ä–∞–≤–º–∞—Ç–æ–ª–æ–≥–∏–∏: 8(3012)373194. " \
           f"–û—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è –Ω–µ–π—Ä–æ—Ö–∏—Ä—É—Ä–≥–∏–∏ 8(3012)373216, –º–æ–±.—Ç–µ–ª.: 89240151015"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="hirurg_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–•–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 14:00 –¥–æ 15:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)373198. –º–æ–±.—Ç–µ–ª.: 89240100480"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="OPNND1", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û–ü–ù–ù–î ‚Ññ 1. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 11:00 –¥–æ 13:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)373213, –º–æ–±.—Ç–µ–ª.:89834354506"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="OPNND2", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û–ü–ù–ù–î ‚Ññ 2. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 13:00 –¥–æ 15:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù, –°–†, –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)373214,–º–æ–±.—Ç–µ–ª.:89834354508"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="pulmonolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ü—É–ª—å–º–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 15:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ :–ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)454846, –º–æ–±.—Ç–µ–ª.:89834354503"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="nefrolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ù–µ—Ñ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 12:00 –¥–æ 14:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)454484"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="onkolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û–Ω–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 15:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)451509"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="nevrolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ù–µ–≤—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 13:30 –¥–æ 14:30. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–º–æ–±.—Ç–µ–ª.:89244566572"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="gematolog_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ì–µ–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 14:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)556265"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="pediatr_otd", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ü–µ–¥–∏–∞—Ç—Ä–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ. " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 14:00 –¥–æ 15:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)219223"

    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="omr_ilinka", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û–ú–† ‚Ññ  (–ø. –ò–ª—å–∏–Ω–∫–∞). " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 10:00 –¥–æ 12:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)453403, –º–æ–±.—Ç–µ–ª.: 83014453403"

    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="omr_sotnikovo", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–û–ú–† ‚Ññ 3 (–ø. –°–æ—Ç–Ω–∏–∫–æ–≤–æ). " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 10:00 –¥–æ 12:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)224316,–º–æ–±.—Ç–µ–ª.:83012224316"

    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="psihoterapevt_sotnikovo", state="*")
async def otolaringolog_otd(message: types.message, state: FSMContext):
    text = f"–ü—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–æ–µ (–ø.–°–æ—Ç–Ω–∏–∫–æ–≤–æ). " \
           f"–í—Ä–µ–º—è –±–µ—Å–µ–¥—ã –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞  —Å –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É : —Å 14:00 –¥–æ 16:00. –†–∞–±–æ—á–∏–µ –¥–Ω–∏ : –ü–ù - –ü–¢.\n"\
           f"–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—Å–∫–∞—è: 8(3012)224341"
    await message.message.answer(text=text, reply_markup=mainkb())


@dp.callback_query_handler(text_startswith="plan_hosp", state="*")
async def plan_hosp(message: types.message, state: FSMContext):
    telegraph = Telegraph()
    await telegraph.create_account(short_name='DRKB')

    response = await telegraph.get_page(
        path='Podgotovka-k-planovoj-gospitalizacii-03-21'
    )
    await message.message.answer(response['url'], reply_markup=hosp())


@dp.callback_query_handler(text_startswith="sam_hosp", state="*")
async def sam_hosp(message: types.message, state: FSMContext):
    text = f"""
    –ì–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Å–∞–º–æ–æ–±—Ä–∞—â–µ–Ω–∏—é
‚Ä¢	–ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –±–æ–ª—å–Ω–æ–≥–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤ –ø—Ä–∏–µ–º–Ω—ã–π –ø–æ–∫–æ–π –±–æ–ª—å–Ω–∏—Ü—ã, –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç—Å—è –¥–µ–∂—É—Ä–Ω—ã–π –≤—Ä–∞—á —Å–æ–≥–ª–∞—Å–Ω–æ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–º—É –≥—Ä–∞—Ñ–∏–∫—É –¥–ª—è –æ—Å–º–æ—Ç—Ä–∞ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
‚Ä¢	–í—Ä–∞—á –æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –±–æ–ª—å–Ω–æ–≥–æ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –æ–± —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –î–†–ö–ë –∏–ª–∏ –æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–æ–µ –õ–ü–£ –ø–æ –ø—Ä–æ—Ñ–∏–ª—é –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è.
‚Ä¢	–ï—Å–ª–∏ –±–æ–ª—å–Ω–æ–π –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –∞–º–±—É–ª–∞—Ç–æ—Ä–Ω–æ–º –ª–µ—á–µ–Ω–∏–∏, –¥–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ª–µ—á–µ–Ω–∏—é –ø–æ –º–µ—Å—Ç—É –∂–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —É —É—á–∞—Å—Ç–∫–æ–≤–æ–≥–æ –≤—Ä–∞—á–∞
‚Ä¢	–í —Å–ª—É—á–∞–µ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ–ª—å–Ω–æ–º—É —Å—Ä–æ—á–Ω–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—è–∂–µ—Å—Ç—å—é —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚Ä¢	–ú–µ–¥—Å–µ—Å—Ç—Ä–∞ –ø—Ä–∏–µ–º–Ω–æ–≥–æ –ø–æ–∫–æ—è –≤–µ–¥–µ—Ç —É—á–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –±–æ–ª—å–Ω—ã—Ö –ø–æ —Å–∞–º–æ–æ–±—Ä–∞—â–µ–Ω–∏—é –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –±–æ–ª—å–Ω—ã—Ö –≤ –∂—É—Ä–Ω–∞–ª–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–∞—á–∏ —Ä–µ–µ—Å—Ç—Ä–∞ –æ–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥ –¥–ª—è –æ–ø–ª–∞—Ç—ã –ø–æ –û–ú–°. 
"""
    await message.message.answer(text=text, reply_markup=hosp())


@dp.callback_query_handler(text_startswith="extr_hosp", state="*")
async def sam_hosp(message: types.message, state: FSMContext):
    text = f"""
    –ì–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö –±–æ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ:
‚Ä¢	–ï—Å–ª–∏ –±–æ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤ –ø—Ä–∏—ë–º–Ω–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –≤ —Ç—è–∂—ë–ª–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, —Ç–æ –µ—â—ë –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–µ—Å—Ç—Ä–∞ –ø–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º –ø–æ–∫–∞–∑–∞–Ω–∏—è–º –æ–±—è–∑–∞–Ω–∞ –æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å–Ω–æ–º—É –ø–µ—Ä–≤—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø–æ–º–æ—â—å, —Å—Ä–æ—á–Ω–æ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∫ –±–æ–ª—å–Ω–æ–º—É –¥–µ–∂—É—Ä–Ω–æ–≥–æ –≤—Ä–∞—á–∞ –∏ –¥–µ–∂—É—Ä–Ω–æ–≥–æ —Ä–µ–∞–Ω–∏–º–∞—Ç–æ–ª–æ–≥–∞
‚Ä¢	–ü–æ—Å–ª–µ –æ—Å–º–æ—Ç—Ä–∞ –≤—Ä–∞—á —Ä–µ—à–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –µ–≥–æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –î–†–ö–ë, –ª–∏–±–æ –æ –ø–µ—Ä–µ–≤–æ–¥–µ –≤ –¥—Ä—É–≥–æ–µ –õ–ü–£ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ—Ñ–∏–ª—é –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è.
‚Ä¢	–î–µ–∂—É—Ä–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—è–∑–∞–Ω –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –æ–∫–∞–∑–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â–∏ –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–º–ø–ª–µ–∫—Å–∞ –ª–µ—á–µ–±–Ω–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–º –±–æ–ª—å–Ω—ã–º —Å –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ–º —É–∑–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π.
‚Ä¢	–í —Å–ª—É—á–∞–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–µ—Å—Ç—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
‚Ä¢	–í —Å–ª—É—á–∞–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –ø–µ—Ä–µ–≤–æ–¥–µ –≤ –¥—Ä—É–≥–æ–µ –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–µ –õ–ü–£, –≤—Ä–∞—á –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç ¬´03¬ª –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —É–≤–µ–¥–æ–º–∏–≤ –õ–ü–£, –∫—É–¥–∞ –±—É–¥–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –±–æ–ª—å–Ω–æ–π.
‚Ä¢	–ú–µ–¥—Å–µ—Å—Ç—Ä–∞ –ø—Ä–∏–µ–º–Ω–æ–≥–æ –ø–æ–∫–æ—è –≤–µ–¥–µ—Ç —É—á–µ—Ç –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö –±–æ–ª—å–Ω—ã—Ö –≤ –∂—É—Ä–Ω–∞–ª–µ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–∞—á–∏ —Ä–µ–µ—Å—Ç—Ä–∞ –æ–∫–∞–∑–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥ –¥–ª—è –æ–ø–ª–∞—Ç—ã –≤ –ü–≠–û.
"""
    await message.message.answer(text=text, reply_markup=hosp())


@dp.message_handler()
async def get_message(message: types.Message):
    resp = None
    user_print = {"role": "user", "content": message.text}
    messages.append(user_print)
    start_time = time.time()
    while resp is None:
        await bot.send_chat_action(message.chat.id, ChatActions.TYPING)
        print(message)
        print('–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å : ', message.text)
        response = openai.ChatCompletion.create(
            model='gpt-3.5-turbo',
            # 'text - davinci - 002',
            messages=messages,
            max_tokens=1000,
            temperature=0.6)
        resp = response

    elapsed_time = time.time() - start_time
    text = resp['choices'][0]['message']['content']

    print('bot : ', text)
    await bot.send_message(message.chat.id, text, reply_to_message_id=message.message_id)
    print(f"Elapsed time: {elapsed_time:.2f} seconds")


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
@dp.message_handler(content_types=ContentType.VOICE)
async def handle_voice_message(message: types.Message):
    # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    file_info = await bot.get_file(message.voice.file_id)
    voice_file = await bot.download_file(file_info.file_path)
    byte_obj = BytesIO(voice_file.read())
    with open('out.oga', 'wb') as file:
        file.write(byte_obj.getvalue())
        file.close()
    soundin = 'out.oga'
    soundout = 'out.wav'
    (ffmpeg
      .input(soundin)
      .output(soundout)
      .run(overwrite_output = True)
    )
    recognizer = sr.Recognizer()
    with sr.AudioFile('out.wav') as source:
        audio = recognizer.record(source)
    try:
        text_user = recognizer.recognize_google(audio, language="ru-RU")
        resp = None
        print(text_user)
        user_print = {"role": "user", "content": text_user}
        messages.append(user_print)
        start_time = time.time()
        while resp is None:
            await bot.send_chat_action(message.chat.id, ChatActions.TYPING)
            print(message)
            print('–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å : ', message.text)
            response = openai.ChatCompletion.create(
                model='gpt-3.5-turbo',
                # 'text - davinci - 002',
                messages=messages,
                max_tokens=1000,
                temperature=0.6)
            resp = response

        elapsed_time = time.time() - start_time
        text = resp['choices'][0]['message']['content']
        print('bot : ', text)
        tts = gTTS(text, lang='ru', tld='ru', slow=False)
        tts.save('response.mp3')
        with open('response.mp3', 'rb') as audio:
            await bot.send_voice(chat_id=message.chat.id, voice=InputFile(audio))
        # await bot.send_voice(chat_id=message.chat.id, voice=InputFile(audio))


        # await bot.send_message(message.chat.id, text, reply_to_message_id=message.message_id)
        print(f"Elapsed time: {elapsed_time:.2f} seconds")

    except sr.UnknownValueError:
        await message.reply("–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
    except sr.RequestError:
        await message.reply("–ò–∑–≤–∏–Ω–∏—Ç–µ, —Å–µ—Ä–≤–∏—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≥–æ–ª–æ—Å–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")




